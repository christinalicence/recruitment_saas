{% extends "cms/base_tenant.html" %}
{% load static %}

{% block title %}{{ profile.display_name }} | Careers{% endblock %}

{% block content %}
<div class="theme-{{ profile.template_choice|default:'executive' }} agency-site">
    
    {# HERO SECTION #}
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center {% if profile.template_choice == 'startup' %}flex-column-reverse flex-lg-row{% endif %}">
                
                <div class="col-12 {% if profile.template_choice == 'startup' %}col-lg-12 text-center order-2{% else %}col-lg-6 order-1{% endif %} {% if profile.template_choice == 'boutique' %}col-lg-7{% endif %}">
                    <div class="hero-content">
                        <h1 class="hero-title">{{ profile.hero_title }}</h1>
                        <p class="hero-text">{{ profile.hero_text|linebreaksbr }}</p>
                        <div class="hero-actions {% if profile.template_choice == 'startup' %}justify-content-center{% endif %}">
                            {% if profile.featured_job %}
                                <a href="#featured-role" class="btn btn-primary btn-lg">View Featured Role</a>
                            {% else %}
                                <a href="{% url 'cms:job_list' %}" class="btn btn-primary btn-lg">View All Jobs</a>
                            {% endif %}
                            <a href="{% url 'cms:about' %}" class="btn btn-outline-dark btn-lg">Learn About Us</a>
                        </div>
                    </div>
                </div>
                
                <div class="col-12 {% if profile.template_choice == 'startup' %}col-lg-10 mx-auto order-1 mb-5{% else %}col-lg-6 order-2{% endif %} {% if profile.template_choice == 'boutique' %}col-lg-5{% endif %}">
                    <div class="hero-image-wrapper">
                        <img src="{{ profile.get_hero_image }}" alt="{{ profile.display_name }}" class="hero-img-styled">
                    </div>
                </div>
            </div>
        </div>
    </section>

    {# VALUE PROPS SECTION #}
    <section class="value-props-section">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="section-title">Why Work With Us</h2>
                <p class="section-subtitle">We're committed to finding the perfect match for your career journey</p>
            </div>
            
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="value-card">
                        <h3 class="value-title">{{ profile.value_prop_1_title }}</h3>
                        <p class="value-desc">{{ profile.value_prop_1_text }}</p>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="value-card">
                        <h3 class="value-title">{{ profile.value_prop_2_title }}</h3>
                        <p class="value-desc">{{ profile.value_prop_2_text }}</p>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="value-card">
                        <h3 class="value-title">{{ profile.value_prop_3_title }}</h3>
                        <p class="value-desc">{{ profile.value_prop_3_text }}</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {# FEATURED JOB SECTION (only if job selected) #}
    {% if profile.featured_job %}
    <section id="featured-role" class="featured-job-section">
        <div class="container">
            <div class="featured-job-header">
                <span class="featured-badge">Featured Role</span>
                <h2 class="section-title">{{ profile.featured_job.title }}</h2>
                <div class="job-meta">
                    <span class="meta-item">üìç {{ profile.featured_job.location }}</span>
                    <span class="meta-item">üí∞ {{ profile.featured_job.salary }}</span>
                    <span class="meta-item">üïí Posted {{ profile.featured_job.created_at|timesince }} ago</span>
                </div>
            </div>
            
            <div class="row align-items-center">
                <div class="col-lg-7">
                    <div class="job-summary">
                        <h3 class="job-summary-title">About This Role</h3>
                        <p class="lead">{{ profile.featured_job.summary }}</p>
                        <p>{{ profile.featured_job.description|truncatewords:50|linebreaks }}</p>
                    </div>
                </div>
                
                <div class="col-lg-5">
                    <div class="job-apply-card">
                        <h4 class="job-apply-title">Ready to Apply?</h4>
                        <p class="job-apply-text">Join {{ profile.display_name }} and take the next step in your career</p>
                        <a href="{% url 'cms:job_detail' profile.featured_job.id %}" class="btn btn-primary btn-lg w-100 mb-3">
                            View Full Details
                        </a>
                        <a href="{% url 'cms:job_list' %}" class="btn btn-outline-light w-100">
                            Browse All Roles
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    {# STATS SECTION (only if enabled) #}
    {% if profile.show_stats %}
    <section class="stats-section">
        <div class="container">
            <div class="row text-center g-4">
                {% if profile.stat_placements %}
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <div class="stat-number">{{ profile.stat_placements }}</div>
                        <div class="stat-label">Successful Placements</div>
                    </div>
                </div>
                {% endif %}
                
                {% if profile.stat_satisfaction %}
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <div class="stat-number">{{ profile.stat_satisfaction }}</div>
                        <div class="stat-label">Candidate Satisfaction</div>
                    </div>
                </div>
                {% endif %}
                
                {% if profile.stat_companies %}
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <div class="stat-number">{{ profile.stat_companies }}</div>
                        <div class="stat-label">Partner Companies</div>
                    </div>
                </div>
                {% endif %}
                
                {% if profile.stat_experience %}
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <div class="stat-number">{{ profile.stat_experience }}</div>
                        <div class="stat-label">Years of Excellence</div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </section>
    {% endif %}

    {# CTA SECTION #}
    <section class="cta-section">
        <div class="container text-center">
            <h2 class="cta-title">Ready to Find Your Perfect Role?</h2>
            <p class="cta-text">Browse our current opportunities or get in touch to discuss your career goals</p>
            <div class="cta-actions">
                <a href="{% url 'cms:job_list' %}" class="btn btn-primary btn-lg">View All Jobs</a>
                <a href="{% url 'cms:about' %}" class="btn btn-outline-light btn-lg">Our Story</a>
            </div>
        </div>
    </section>
    
</div>
{% endblock %}